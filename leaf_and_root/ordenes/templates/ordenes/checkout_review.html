{% extends "base.html" %}
{% load i18n %}
{% block title %}{% trans "Review Purchase" %}{% endblock %}
{% block content %}
{% load static %}
<link rel="stylesheet" href="{% static 'users/css/auth.css' %}">
<link rel="stylesheet" href="{% static 'store/css/base.css' %}">
<div class="container mt-4">
    <h1 class="auth-title">{% trans "Review Purchase" %}</h1>

    <h4>{% trans "Customer Information" %}</h4>
    <ul class="list-group mb-3">
        <li class="list-group-item"><strong>{% trans "Name" %}:</strong> {{ customer.name }}</li>
        <li class="list-group-item"><strong>{% trans "Email" %}:</strong> {{ customer.email }}</li>
        <li class="list-group-item"><strong>{% trans "Address" %}:</strong> {{ customer.address }}</li>
        <li class="list-group-item"><strong>{% trans "Phone" %}:</strong> {{ customer.phone }}</li>
    </ul>

    <h4>{% trans "Products" %}</h4>
    <table class="table">
        <thead>
            <tr>
                <th>{% trans "Product" %}</th>
                <th>{% trans "Quantity" %}</th>
                <th>{% trans "Price" %}</th>
                <th>{% trans "Subtotal" %}</th>
            </tr>
        </thead>
        <tbody>
            {% for item in items %}
            <tr>
                <td>{{ item.product.name }}</td>
                <td>{{ item.quantity }}</td>
                <td>${{ item.product.price }}</td>
                <td>${{ item.get_subtotal }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <h3 class="text-end">{% trans "Total" %}: ${{ total }}</h3>

    <div class="text-end mt-4">
        <a href="{% url 'checkout_finalize' %}" class="btn btn-success btn-lg">
            {% trans "Finalize Purchase" %}
        </a>
    </div>
</div>
{% endblock %}
